{
  "info": {
    "_postman_id": "d3e7b6c4-1234-5678-9abc-def012345678",
    "name": "Dotra API",
    "description": "Complete API collection for Dotra platform including authentication and vendor-facing operations.\n\n## Base URL\n- Local: `http://localhost:8000/api`\n- Production: `https://api.dotra.com/api`\n\n## API Versioning\nAll endpoints are versioned under `/v1`. This is version 1 of the API.\n\n## Authentication\nAuthentication uses Laravel Sanctum for token-based auth. Include the Bearer token in the Authorization header for protected endpoints.\n\n## Variables\n- `baseUrl`: Base API URL\n- `authToken`: Bearer token for authenticated requests\n- `vendorSlug`: Vendor identifier (e.g., 'dotra', 'tech-corp')\n- `applicationId`: Application ID for testing\n- `customerId`: Customer ID for testing",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000/api",
      "type": "string",
      "description": "Base URL for the API"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string",
      "description": "Bearer token for authentication"
    },
    {
      "key": "vendorSlug",
      "value": "dotra",
      "type": "string",
      "description": "Vendor slug identifier"
    },
    {
      "key": "applicationId",
      "value": "550e8400-e29b-41d4-a716-446655440000",
      "type": "string",
      "description": "Application ID for testing"
    },
    {
      "key": "customerId",
      "value": "6ba7b810-9dad-11d1-80b4-00c04fd430c8",
      "type": "string",
      "description": "Customer ID for testing"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "description": "Authentication endpoints for vendors and customers",
      "item": [
        {
          "name": "Vendor",
          "description": "Vendor authentication endpoints",
          "item": [
            {
              "name": "Register Vendor",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Auto-save the vendor slug if registration is successful",
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.vendor && jsonData.vendor.slug) {",
                      "        pm.collectionVariables.set('vendorSlug', jsonData.vendor.slug);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json",
                    "description": "Request JSON response"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"name\": \"فروشگاه نمونه\",\n    \"mobile\": \"09123456789\",\n    \"national_code\": \"1234567890\",\n    \"type\": \"individual\",\n    \"industry\": \"fashion-apparel\",\n    \"owner_first_name\": \"علی\",\n    \"owner_last_name\": \"احمدی\",\n    \"owner_birth_date\": \"1985-03-15\",\n    \"business_license_code\": \"ABC123456\",\n    \"email\": \"vendor@example.com\",\n    \"phone_number\": \"02112345678\",\n    \"website_url\": \"https://example-shop.com\",\n    \"reffered_from\": \"google\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "register"
                  ]
                },
                "description": "Register a new vendor account. An OTP will be sent to the provided mobile number for verification.\n\n**Required Fields (All Types):**\n- `name` (string): Store/vendor name (Persian characters)\n- `mobile` (string): Mobile number (09XXXXXXXXX format, unique)\n- `national_code` (string): National ID or business ID (10 digits, unique)\n- `type` (string): Vendor type - 'individual' or 'legal'\n- `industry` (string): Business industry category\n\n**Required for Individual Vendors Only:**\n- `owner_first_name` (string): Owner's first name (Persian characters)\n- `owner_last_name` (string): Owner's last name (Persian characters)\n- `owner_birth_date` (date): Owner's birth date (YYYY-MM-DD, must be before today)\n- `business_license_code` (string): Business license number\n\n**Prohibited for Legal Vendors:**\n- `business_license_code`: Must NOT be provided for legal vendors\n\n**Optional Fields:**\n- `email` (string): Email address\n- `phone_number` (string): Landline phone (0XXXXXXXXXX format)\n- `website_url` (string): Website URL\n- `reffered_from` (string): Referral source\n\n**Note:** This endpoint is rate-limited to 60 requests per hour."
              },
              "response": [
                {
                  "name": "Success Response (Created)",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"name\": \"فروشگاه نمونه\",\n    \"mobile\": \"09123456789\",\n    \"national_code\": \"1234567890\",\n    \"type\": \"individual\",\n    \"industry\": \"fashion-apparel\",\n    \"owner_first_name\": \"علی\",\n    \"owner_last_name\": \"احمدی\",\n    \"owner_birth_date\": \"1985-03-15\",\n    \"business_license_code\": \"ABC123456\",\n    \"email\": \"vendor@example.com\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/v1/vendors/register",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "v1",
                        "vendors",
                        "register"
                      ]
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n    \"message\": \"ثبت‌نام با موفقیت انجام شد. کد تایید به شماره موبایل شما ارسال شد\",\n    \"vendor\": {\n        \"id\": \"9c8e6679-7425-40de-944b-e07fc1f90ae7\",\n        \"name\": \"فروشگاه نمونه\",\n        \"mobile\": \"09123456789\",\n        \"slug\": \"frooshgah-nmoneh\",\n        \"type\": \"individual\",\n        \"reffered_from\": \"google\",\n        \"national_code\": \"1234567890\",\n        \"owner_first_name\": \"علی\",\n        \"owner_last_name\": \"احمدی\",\n        \"owner_birth_date\": \"1985-03-15\",\n        \"business_license_code\": \"ABC123456\",\n        \"website_url\": \"https://example-shop.com\",\n        \"industry\": \"fashion-apparel\",\n        \"phone_number\": \"02112345678\",\n        \"email\": \"vendor@example.com\",\n        \"created_at\": \"2025-11-25T14:30:00.000000Z\",\n        \"updated_at\": \"2025-11-25T14:30:00.000000Z\"\n    }\n}"
                },
                {
                  "name": "Validation Error",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"name\": \"Test Store\",\n    \"mobile\": \"123\",\n    \"national_code\": \"12345\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/v1/vendors/register",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "v1",
                        "vendors",
                        "register"
                      ]
                    }
                  },
                  "status": "Unprocessable Entity",
                  "code": 422,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n    \"message\": \"The name may only contain Persian characters. (and 7 more errors)\",\n    \"errors\": {\n        \"name\": [\"نام فروشگاه باید با حروف فارسی باشد\"],\n        \"mobile\": [\"فرمت شماره موبایل نامعتبر است (مثال: 09123456789)\"],\n        \"national_code\": [\"کد ملی/شناسه ملی باید ۱۰ رقم باشد\"],\n        \"type\": [\"نوع فروشنده الزامی است\"],\n        \"industry\": [\"حوزه فعالیت الزامی است\"],\n        \"owner_first_name\": [\"نام مالک برای فروشنده حقیقی الزامی است\"],\n        \"owner_last_name\": [\"نام خانوادگی مالک برای فروشنده حقیقی الزامی است\"],\n        \"owner_birth_date\": [\"تاریخ تولد مالک برای فروشنده حقیقی الزامی است\"]\n    }\n}"
                },
                {
                  "name": "Success Response - Legal Vendor",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"name\": \"شرکت تجارت الکترونیک\",\n    \"mobile\": \"09123456789\",\n    \"national_code\": \"1234567890\",\n    \"type\": \"legal\",\n    \"industry\": \"digital-gadgets-accessories\",\n    \"email\": \"info@company.com\",\n    \"phone_number\": \"02112345678\",\n    \"website_url\": \"https://company.com\",\n    \"reffered_from\": \"linkedin\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/v1/vendors/register",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "v1",
                        "vendors",
                        "register"
                      ]
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n    \"message\": \"ثبت‌نام با موفقیت انجام شد. کد تایید به شماره موبایل شما ارسال شد\",\n    \"vendor\": {\n        \"id\": \"8c9e6679-7425-40de-944b-e07fc1f90ae8\",\n        \"name\": \"شرکت تجارت الکترونیک\",\n        \"mobile\": \"09123456789\",\n        \"slug\": \"shrkt-tjart-alktrونیک\",\n        \"type\": \"legal\",\n        \"reffered_from\": \"linkedin\",\n        \"national_code\": \"1234567890\",\n        \"owner_first_name\": null,\n        \"owner_last_name\": null,\n        \"owner_birth_date\": null,\n        \"business_license_code\": null,\n        \"website_url\": \"https://company.com\",\n        \"industry\": \"digital-gadgets-accessories\",\n        \"phone_number\": \"02112345678\",\n        \"email\": \"info@company.com\",\n        \"created_at\": \"2025-11-25T14:30:00.000000Z\",\n        \"updated_at\": \"2025-11-25T14:30:00.000000Z\"\n    }\n}"
                },
                {
                  "name": "Validation Error - Legal with Business License",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"name\": \"شرکت تجارت الکترونیک\",\n    \"mobile\": \"09123456789\",\n    \"national_code\": \"1234567890\",\n    \"type\": \"legal\",\n    \"industry\": \"digital-gadgets-accessories\",\n    \"business_license_code\": \"ABC123\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/v1/vendors/register",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "v1",
                        "vendors",
                        "register"
                      ]
                    }
                  },
                  "status": "Unprocessable Entity",
                  "code": 422,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n    \"message\": \"The business license code field is prohibited. (and 0 more errors)\",\n    \"errors\": {\n        \"business_license_code\": [\"کد جواز کسب برای فروشنده حقوقی نباید وارد شود\"]\n    }\n}"
                }
              ]
            },
            {
              "name": "Send OTP (Vendor)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/sendOtp",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "sendOtp"
                  ]
                },
                "description": "Send an OTP code to a registered vendor's mobile number.\n\n**Required:**\n- `mobile` (string): Registered mobile number\n\n**Note:** Rate-limited to 60 requests per hour."
              },
              "response": []
            },
            {
              "name": "Login with OTP (Vendor)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Auto-save the auth token",
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.token) {",
                      "        pm.collectionVariables.set('authToken', jsonData.token);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\",\n    \"otp\": \"123456\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/loginOtp",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "loginOtp"
                  ]
                },
                "description": "Login using OTP verification.\n\n**Required:**\n- `mobile` (string): Registered mobile number\n- `otp` (string): OTP code received via SMS"
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "POST",
                    "header": [],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"mobile\": \"09123456789\",\n    \"otp\": \"123456\"\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/v1/vendors/loginOtp",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "v1",
                        "vendors",
                        "loginOtp"
                      ]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [
                    {
                      "key": "Content-Type",
                      "value": "application/json"
                    }
                  ],
                  "body": "{\n    \"token\": \"1|abcdefghijklmnopqrstuvwxyz1234567890\",\n    \"vendor\": {\n        \"id\": \"9c8e6679-7425-40de-944b-e07fc1f90ae7\",\n        \"name\": \"فروشگاه نمونه\",\n        \"mobile\": \"09123456789\",\n        \"slug\": \"frooshgah-nmoneh\",\n        \"type\": \"individual\",\n        \"industry\": \"fashion-apparel\",\n        \"email\": \"vendor@example.com\"\n    }\n}"
                }
              ]
            },
            {
              "name": "Login with Password (Vendor)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Auto-save the auth token",
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.token) {",
                      "        pm.collectionVariables.set('authToken', jsonData.token);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\",\n    \"password\": \"password123\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/loginPassword",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "loginPassword"
                  ]
                },
                "description": "Login using password.\n\n**Required:**\n- `mobile` (string): Registered mobile number\n- `password` (string): Account password"
              },
              "response": []
            },
            {
              "name": "Logout (Vendor)",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{authToken}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/logout",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "logout"
                  ]
                },
                "description": "Logout and revoke the current access token.\n\n**Authentication Required:** Bearer token in Authorization header"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Customer",
          "description": "Customer authentication endpoints",
          "item": [
            {
              "name": "Register Customer",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\",\n    \"national_id\": \"1234567890\",\n    \"first_name\": \"علی\",\n    \"last_name\": \"احمدی\",\n    \"birth_date\": \"1990-05-15\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/customers/signup",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "customers",
                    "signup"
                  ]
                },
                "description": "Register a new customer account. An OTP will be sent for verification.\n\n**Required Fields:**\n- `mobile` (string): Mobile number (09XXXXXXXXX format)\n- `national_id` (string): National ID (10 digits)\n- `first_name` (string): First name\n- `last_name` (string): Last name\n- `birth_date` (date): Birth date (YYYY-MM-DD format, must be before today)\n\n**Note:** Rate-limited to 60 requests per hour."
              },
              "response": []
            },
            {
              "name": "Send OTP (Customer)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/customers/sendOtp",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "customers",
                    "sendOtp"
                  ]
                },
                "description": "Send an OTP code to a registered customer's mobile number.\n\n**Required:**\n- `mobile` (string): Registered mobile number\n\n**Note:** Rate-limited to 60 requests per hour."
              },
              "response": []
            },
            {
              "name": "Login with OTP (Customer)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Auto-save the auth token",
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.token) {",
                      "        pm.collectionVariables.set('authToken', jsonData.token);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\",\n    \"otp\": \"123456\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/customers/loginOtp",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "customers",
                    "loginOtp"
                  ]
                },
                "description": "Login using OTP verification.\n\n**Required:**\n- `mobile` (string): Registered mobile number\n- `otp` (string): OTP code received via SMS"
              },
              "response": []
            },
            {
              "name": "Login with Password (Customer)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "type": "text/javascript",
                    "exec": [
                      "// Auto-save the auth token",
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.token) {",
                      "        pm.collectionVariables.set('authToken', jsonData.token);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"mobile\": \"09123456789\",\n    \"password\": \"password123\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/customers/loginPassword",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "customers",
                    "loginPassword"
                  ]
                },
                "description": "Login using password.\n\n**Required:**\n- `mobile` (string): Registered mobile number\n- `password` (string): Account password"
              },
              "response": []
            },
            {
              "name": "Logout (Customer)",
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{authToken}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/v1/customers/logout",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "customers",
                    "logout"
                  ]
                },
                "description": "Logout and revoke the current access token.\n\n**Authentication Required:** Bearer token in Authorization header"
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Applications",
      "description": "Endpoints for managing financing applications",
      "item": [
        {
          "name": "List Applications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications?per_page=15",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "applications"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15",
                  "description": "Number of items per page (optional, default: 15)"
                }
              ]
            },
            "description": "Retrieve a paginated list of all applications for a vendor. Includes related customer data.\n\n**Response includes:**\n- Application details (amount, installments, interest rate, status)\n- Customer information (name, national code, mobile)\n- Pagination metadata"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications?per_page=15",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "applications"
                  ],
                  "query": [
                    {
                      "key": "per_page",
                      "value": "15"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": [\n        {\n            \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"vendor_id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n            \"credit_score_id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n            \"total_amount\": 10000000,\n            \"number_of_installments\": 12,\n            \"interest_rate\": \"12.50\",\n            \"suggested_total_amount\": 8000000,\n            \"suggested_number_of_installments\": 10,\n            \"suggested_interest_rate\": \"10.00\",\n            \"status\": \"pending\",\n            \"credit_score\": {\n                \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n                \"overall_score\": 720,\n                \"status\": \"completed\"\n            },\n            \"customer\": {\n                \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n                \"national_code\": \"1234567890\",\n                \"mobile\": \"09123456789\",\n                \"first_name\": \"علی\",\n                \"last_name\": \"احمدی\",\n                \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n                \"email\": \"ali.ahmadi@example.com\",\n                \"address\": \"تهران، خیابان ولیعصر\",\n                \"created_at\": \"2024-01-15T10:30:00.000000Z\",\n                \"updated_at\": \"2024-01-15T10:30:00.000000Z\"\n            },\n            \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n            \"updated_at\": \"2024-01-20T14:30:00.000000Z\"\n        }\n    ],\n    \"links\": {\n        \"first\": \"http://localhost:8000/api/v1/vendors/dotra/applications?page=1\",\n        \"last\": \"http://localhost:8000/api/v1/vendors/dotra/applications?page=3\",\n        \"prev\": null,\n        \"next\": \"http://localhost:8000/api/v1/vendors/dotra/applications?page=2\"\n    },\n    \"meta\": {\n        \"current_page\": 1,\n        \"from\": 1,\n        \"last_page\": 3,\n        \"path\": \"http://localhost:8000/api/v1/vendors/dotra/applications\",\n        \"per_page\": 15,\n        \"to\": 15,\n        \"total\": 35\n    }\n}"
            }
          ]
        },
        {
          "name": "Create Application",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": "JSON content type"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n    \"credit_score_id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n    \"total_amount\": 10000000,\n    \"number_of_installments\": 12,\n    \"interest_rate\": 12.5,\n    \"suggested_total_amount\": 8000000,\n    \"suggested_number_of_installments\": 10,\n    \"suggested_interest_rate\": 10.0,\n    \"status\": \"pending\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "applications"
              ]
            },
            "description": "Create a new financing application for a customer under the vendor.\n\n**Required Fields:**\n- `customer_id` (UUID): Must exist in customers table\n- `credit_score_id` (UUID): Must belong to the provided customer\n- `total_amount` (integer): Minimum 1\n- `number_of_installments` (integer): Between 1 and 32767\n- `suggested_total_amount` (integer): Minimum 1\n- `suggested_number_of_installments` (integer): Between 1 and 32767\n\n**Optional Fields:**\n- `interest_rate` (numeric): Minimum 0\n- `suggested_interest_rate` (numeric): Minimum 0\n- `status` (string): Max 255 characters\n\n> The credit score associated with an application is immutable after creation."
          },
          "response": [
            {
              "name": "Success Response (Created)",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n    \"credit_score_id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n    \"total_amount\": 10000000,\n    \"number_of_installments\": 12,\n    \"interest_rate\": 12.5,\n    \"suggested_total_amount\": 8000000,\n    \"suggested_number_of_installments\": 10,\n    \"suggested_interest_rate\": 10.0,\n    \"status\": \"pending\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "applications"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"vendor_id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n        \"credit_score_id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n        \"total_amount\": 10000000,\n        \"number_of_installments\": 12,\n        \"interest_rate\": \"12.50\",\n        \"suggested_total_amount\": 8000000,\n        \"suggested_number_of_installments\": 10,\n        \"suggested_interest_rate\": \"10.00\",\n        \"status\": \"pending\",\n        \"credit_score\": {\n            \"id\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\",\n            \"overall_score\": 720,\n            \"status\": \"completed\"\n        },\n        \"vendor\": {\n            \"id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n            \"name\": \"Acme Store\",\n            \"slug\": \"dotra\",\n            \"mobile\": \"09121234567\",\n            \"type\": \"business\",\n            \"email\": \"info@acmestore.com\"\n        },\n        \"customer\": {\n            \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"national_code\": \"1234567890\",\n            \"mobile\": \"09123456789\",\n            \"first_name\": \"علی\",\n            \"last_name\": \"احمدی\",\n            \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n            \"email\": \"ali.ahmadi@example.com\",\n            \"address\": \"تهران، خیابان ولیعصر\"\n        },\n        \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n        \"updated_at\": \"2024-01-20T14:30:00.000000Z\"\n    }\n}"
            },
            {
              "name": "Validation Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"customer_id\": \"invalid-uuid\",\n    \"credit_score_id\": \"invalid-uuid\",\n    \"total_amount\": -100\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "applications"
                  ]
                }
              },
              "status": "Unprocessable Entity",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"message\": \"The customer id field must be a valid UUID. (and 6 more errors)\",\n    \"errors\": {\n        \"customer_id\": [\"The customer id field must be a valid UUID.\", \"The selected customer id is invalid.\"],\n        \"credit_score_id\": [\"The credit score id field must be a valid UUID.\", \"The selected credit score id is invalid.\"],\n        \"total_amount\": [\"The total amount must be at least 1.\"],\n        \"number_of_installments\": [\"The number of installments field is required.\"],\n        \"suggested_total_amount\": [\"The suggested total amount field is required.\"],\n        \"suggested_number_of_installments\": [\"The suggested number of installments field is required.\"]\n    }\n}"
            }
          ]
        },
        {
          "name": "View Application (Edit)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications/{{applicationId}}/edit",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "applications",
                "{{applicationId}}",
                "edit"
              ]
            },
            "description": "Fetch a single application with all related data for editing purposes.\n\n**Includes:**\n- Application details\n- Customer information\n- Vendor information\n- Installments (if any)\n\n**Note:** Requires authorization (user must have 'view' permission for the application)."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications/{{applicationId}}/edit",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "applications",
                    "{{applicationId}}",
                    "edit"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"vendor_id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n        \"total_amount\": 10000000,\n        \"number_of_installments\": 12,\n        \"interest_rate\": \"12.50\",\n        \"suggested_total_amount\": 8000000,\n        \"suggested_number_of_installments\": 10,\n        \"suggested_interest_rate\": \"10.00\",\n        \"status\": \"approved\",\n        \"vendor\": {\n            \"id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n            \"name\": \"Acme Store\",\n            \"slug\": \"dotra\",\n            \"mobile\": \"09121234567\",\n            \"type\": \"business\",\n            \"industry\": \"retail\",\n            \"email\": \"info@acmestore.com\",\n            \"website_url\": \"https://acmestore.com\",\n            \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n            \"updated_at\": \"2024-01-01T00:00:00.000000Z\"\n        },\n        \"customer\": {\n            \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"national_code\": \"1234567890\",\n            \"mobile\": \"09123456789\",\n            \"first_name\": \"علی\",\n            \"last_name\": \"احمدی\",\n            \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n            \"email\": \"ali.ahmadi@example.com\",\n            \"address\": \"تهران، خیابان ولیعصر\",\n            \"created_at\": \"2024-01-15T10:30:00.000000Z\",\n            \"updated_at\": \"2024-01-15T10:30:00.000000Z\"\n        },\n        \"installments\": [\n            {\n                \"id\": \"8ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n                \"application_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n                \"installment_number\": 1,\n                \"amount\": 833333,\n                \"due_date\": \"2024-02-20T00:00:00.000000Z\",\n                \"paid_at\": null,\n                \"status\": \"pending\",\n                \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n                \"updated_at\": \"2024-01-20T14:30:00.000000Z\"\n            },\n            {\n                \"id\": \"9ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n                \"application_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n                \"installment_number\": 2,\n                \"amount\": 833333,\n                \"due_date\": \"2024-03-20T00:00:00.000000Z\",\n                \"paid_at\": null,\n                \"status\": \"pending\",\n                \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n                \"updated_at\": \"2024-01-20T14:30:00.000000Z\"\n            }\n        ],\n        \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n        \"updated_at\": \"2024-01-20T14:30:00.000000Z\"\n    }\n}"
            }
          ]
        },
        {
          "name": "Update Application",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": "JSON content type"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"total_amount\": 12000000,\n    \"number_of_installments\": 14,\n    \"interest_rate\": 11.8\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications/{{applicationId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "applications",
                "{{applicationId}}"
              ]
            },
            "description": "Update an existing application. Supports both PUT and PATCH methods.\n\n**Vendors can only update the following fields (all optional):**\n- `total_amount` (integer): Minimum 1\n- `number_of_installments` (integer): Between 1 and 32767\n- `interest_rate` (numeric, nullable): Minimum 0\n\n**Important Restrictions:**\n- `customer_id` cannot be updated\n- `credit_score_id` cannot be updated (immutable after creation)\n- `suggested_total_amount`, `suggested_number_of_installments`, and `suggested_interest_rate` cannot be updated by vendors\n- `status` is managed automatically by model logic and cannot be set via this endpoint\n\n**Note:** Requires authorization (user must have 'update' permission for the application)."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"total_amount\": 12000000,\n    \"number_of_installments\": 14,\n    \"interest_rate\": 11.8\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/applications/{{applicationId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "applications",
                    "{{applicationId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"vendor_id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n        \"total_amount\": 12000000,\n        \"number_of_installments\": 14,\n        \"interest_rate\": \"11.80\",\n        \"suggested_total_amount\": 8000000,\n        \"suggested_number_of_installments\": 10,\n        \"suggested_interest_rate\": \"10.00\",\n        \"status\": \"approved\",\n        \"vendor\": {\n            \"id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n            \"name\": \"Acme Store\",\n            \"slug\": \"dotra\"\n        },\n        \"customer\": {\n            \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"national_code\": \"1234567890\",\n            \"mobile\": \"09123456789\",\n            \"first_name\": \"علی\",\n            \"last_name\": \"احمدی\"\n        },\n        \"installments\": [\n            {\n                \"id\": \"8ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n                \"application_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n                \"installment_number\": 1,\n                \"amount\": 857142,\n                \"due_date\": \"2024-02-20T00:00:00.000000Z\",\n                \"paid_at\": null,\n                \"status\": \"pending\"\n            }\n        ],\n        \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n        \"updated_at\": \"2024-01-20T15:45:00.000000Z\"\n    }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Customers",
      "description": "Endpoints for managing customers associated with a vendor",
      "item": [
        {
          "name": "List Customers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers?per_page=15",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "customers"
              ],
              "query": [
                {
                  "key": "per_page",
                  "value": "15",
                  "description": "Number of items per page (optional, default: 15)"
                }
              ]
            },
            "description": "Retrieve a paginated list of customers that have at least one application with the vendor.\n\n**Note:** Only returns customers who have created applications with this specific vendor.\n\n**Response includes:**\n- Customer details (name, national code, mobile, email, address)\n- Pagination metadata"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers?per_page=15",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers"
                  ],
                  "query": [
                    {
                      "key": "per_page",
                      "value": "15"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": [\n        {\n            \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"national_code\": \"1234567890\",\n            \"mobile\": \"09123456789\",\n            \"first_name\": \"علی\",\n            \"last_name\": \"احمدی\",\n            \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n            \"email\": \"ali.ahmadi@example.com\",\n            \"address\": \"تهران، خیابان ولیعصر، پلاک 123\",\n            \"created_at\": \"2024-01-15T10:30:00.000000Z\",\n            \"updated_at\": \"2024-01-15T10:30:00.000000Z\"\n        },\n        {\n            \"id\": \"7ba7b810-9dad-11d1-80b4-00c04fd430c9\",\n            \"national_code\": \"0987654321\",\n            \"mobile\": \"09187654321\",\n            \"first_name\": \"سارا\",\n            \"last_name\": \"محمدی\",\n            \"birth_date\": \"1992-08-20T00:00:00.000000Z\",\n            \"email\": \"sara.mohammadi@example.com\",\n            \"address\": \"اصفهان، خیابان چهارباغ\",\n            \"created_at\": \"2024-01-16T11:20:00.000000Z\",\n            \"updated_at\": \"2024-01-16T11:20:00.000000Z\"\n        }\n    ],\n    \"links\": {\n        \"first\": \"http://localhost:8000/api/vendors/dotra/customers?page=1\",\n        \"last\": \"http://localhost:8000/api/vendors/dotra/customers?page=2\",\n        \"prev\": null,\n        \"next\": \"http://localhost:8000/api/vendors/dotra/customers?page=2\"\n    },\n    \"meta\": {\n        \"current_page\": 1,\n        \"from\": 1,\n        \"last_page\": 2,\n        \"path\": \"http://localhost:8000/api/vendors/dotra/customers\",\n        \"per_page\": 15,\n        \"to\": 15,\n        \"total\": 25\n    }\n}"
            }
          ]
        },
        {
          "name": "Create or Fetch Customer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": "JSON content type"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"national_code\": \"1234567890\",\n    \"mobile\": \"09123456789\",\n    \"first_name\": \"علی\",\n    \"last_name\": \"احمدی\",\n    \"birth_date\": \"1990-05-15\",\n    \"email\": \"ali.ahmadi@example.com\",\n    \"address\": \"تهران، خیابان ولیعصر، پلاک 123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "customers"
              ]
            },
            "description": "Create a new customer or return existing customer if national code already exists.\n\n**Behavior:**\n- If customer with `national_code` exists: Returns existing customer (HTTP 200)\n- If customer is new: Creates and returns new customer (HTTP 201)\n\n**Required Fields:**\n- `national_code` (string): Exactly 10 characters\n- `mobile` (string): Must match pattern `^09\\d{9}$` (Iranian mobile format)\n- `first_name` (string): Max 255 characters, must be Persian name\n- `last_name` (string): Max 255 characters, must be Persian name\n- `birth_date` (date): Valid date format (YYYY-MM-DD)\n\n**Optional Fields:**\n- `email` (string): Valid email format, max 255 characters\n- `address` (string): Max 255 characters\n\n**Note:** The creator (vendor or authenticated customer) is automatically set based on the authenticated user."
          },
          "response": [
            {
              "name": "Success Response (Created)",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"national_code\": \"1234567890\",\n    \"mobile\": \"09123456789\",\n    \"first_name\": \"علی\",\n    \"last_name\": \"احمدی\",\n    \"birth_date\": \"1990-05-15\",\n    \"email\": \"ali.ahmadi@example.com\",\n    \"address\": \"تهران، خیابان ولیعصر\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"national_code\": \"1234567890\",\n        \"mobile\": \"09123456789\",\n        \"first_name\": \"علی\",\n        \"last_name\": \"احمدی\",\n        \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n        \"email\": \"ali.ahmadi@example.com\",\n        \"address\": \"تهران، خیابان ولیعصر، پلاک 123\",\n        \"created_at\": \"2024-01-20T14:30:00.000000Z\",\n        \"updated_at\": \"2024-01-20T14:30:00.000000Z\"\n    }\n}"
            },
            {
              "name": "Success Response (Existing Customer)",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"national_code\": \"1234567890\",\n    \"mobile\": \"09123456789\",\n    \"first_name\": \"علی\",\n    \"last_name\": \"احمدی\",\n    \"birth_date\": \"1990-05-15\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"national_code\": \"1234567890\",\n        \"mobile\": \"09123456789\",\n        \"first_name\": \"علی\",\n        \"last_name\": \"احمدی\",\n        \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n        \"email\": \"ali.ahmadi@example.com\",\n        \"address\": \"تهران، خیابان ولیعصر\",\n        \"created_at\": \"2024-01-15T10:30:00.000000Z\",\n        \"updated_at\": \"2024-01-15T10:30:00.000000Z\"\n    }\n}"
            },
            {
              "name": "Validation Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"national_code\": \"12345\",\n    \"mobile\": \"1234567890\",\n    \"first_name\": \"Ali\",\n    \"last_name\": \"Ahmadi\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers"
                  ]
                }
              },
              "status": "Unprocessable Entity",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"message\": \"The national code must be 10 characters. (and 3 more errors)\",\n    \"errors\": {\n        \"national_code\": [\"The national code must be 10 characters.\"],\n        \"mobile\": [\"The mobile format is invalid.\"],\n        \"first_name\": [\"The first name must be a valid Persian name.\"],\n        \"last_name\": [\"The last name must be a valid Persian name.\"],\n        \"birth_date\": [\"The birth date field is required.\"]\n    }\n}"
            }
          ]
        },
        {
          "name": "Show Customer",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/{{customerId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "customers",
                "{{customerId}}"
              ]
            },
            "description": "Fetch a single customer resource by ID.\n\n**Response includes:**\n- Customer ID\n- National code\n- Mobile number\n- First and last name (Persian)\n- Birth date\n- Email (if provided)\n- Address (if provided)\n- Timestamps"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/{{customerId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers",
                    "{{customerId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"national_code\": \"1234567890\",\n        \"mobile\": \"09123456789\",\n        \"first_name\": \"علی\",\n        \"last_name\": \"احمدی\",\n        \"birth_date\": \"1990-05-15T00:00:00.000000Z\",\n        \"email\": \"ali.ahmadi@example.com\",\n        \"address\": \"تهران، خیابان ولیعصر، پلاک 123\",\n        \"created_at\": \"2024-01-15T10:30:00.000000Z\",\n        \"updated_at\": \"2024-01-15T10:30:00.000000Z\"\n    }\n}"
            },
            {
              "name": "Not Found",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/00000000-0000-0000-0000-000000000000",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers",
                    "00000000-0000-0000-0000-000000000000"
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"message\": \"No query results for model [App\\\\Models\\\\Customer] 00000000-0000-0000-0000-000000000000\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Credit Scores",
      "description": "Endpoints for requesting and retrieving customer credit scores",
      "item": [
        {
          "name": "Request Credit Score",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/{{customerId}}/credit-scores",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "customers",
                "{{customerId}}",
                "credit-scores"
              ]
            },
            "description": "Trigger the credit scoring engine for the specified customer. Generates a new credit score initiated by the vendor.\n\n**Important:**\n- No request body is required\n- If a recent score exists, future optimization may return it instead of creating a new record\n- The response returns the newly created score\n"
          },
          "response": [
            {
              "name": "Success Response (Created)",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/{{customerId}}/credit-scores",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers",
                    "{{customerId}}",
                    "credit-scores"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"2c1a73a0-18f4-4a47-86cb-9c8d7c7a5c21\",\n        \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"issued_on\": \"2024-02-10T11:15:00.000000Z\",\n        \"status\": \"completed\",\n        \"overall_score\": 742,\n        \"customer\": {\n            \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"national_code\": \"1234567890\",\n            \"mobile\": \"09123456789\",\n            \"first_name\": \"علی\",\n            \"last_name\": \"احمدی\"\n        },\n        \"created_at\": \"2024-02-10T11:15:00.000000Z\",\n        \"updated_at\": \"2024-02-10T11:15:00.000000Z\"\n    }\n}"
            }
          ]
        },
        {
          "name": "Get Latest Credit Score",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "description": "Request JSON response"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/{{customerId}}/credit-scores",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "v1",
                "vendors",
                "{{vendorSlug}}",
                "customers",
                "{{customerId}}",
                "credit-scores"
              ]
            },
            "description": "Fetch the most recent credit score that belongs to the given customer. Response is sorted by `issued_on` and returns the latest record.\n\n**Response includes:**\n- Score metadata (ID, issued date, status, overall score)\n- Nested customer summary (if loaded)\n- Timestamps"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/{{customerId}}/credit-scores",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers",
                    "{{customerId}}",
                    "credit-scores"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"data\": {\n        \"id\": \"3d2b94b1-6f65-4c8b-a416-ef5cedcafa99\",\n        \"customer_id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n        \"issued_on\": \"2024-03-01T09:45:00.000000Z\",\n        \"status\": \"completed\",\n        \"overall_score\": 755,\n        \"customer\": {\n            \"id\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\",\n            \"national_code\": \"1234567890\",\n            \"mobile\": \"09123456789\",\n            \"first_name\": \"علی\",\n            \"last_name\": \"احمدی\"\n        },\n        \"created_at\": \"2024-03-01T09:45:00.000000Z\",\n        \"updated_at\": \"2024-03-01T09:45:00.000000Z\"\n    }\n}"
            },
            {
              "name": "Not Found",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/v1/vendors/{{vendorSlug}}/customers/00000000-0000-0000-0000-000000000000/credit-scores",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "v1",
                    "vendors",
                    "{{vendorSlug}}",
                    "customers",
                    "00000000-0000-0000-0000-000000000000",
                    "credit-scores"
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"message\": \"No query results for model [App\\\\Models\\\\CreditScore]\"\n}"
            }
          ]
        }
      ]
    }
  ]
}
